#[derive(Debug)]
#[derive(PartialEq)]
enum Choice {
    Rock,
    Paper,
    Scissors,
}
struct WL {
    w: Choice,
    l: Choice,
    d: Choice
}

impl Choice {
    fn from_letter_first(c: &str) -> Choice {
        match c {
            "A" => Choice::Rock,
            "X" => Choice::Rock,
            "B" => Choice::Paper,
            "Y" => Choice::Paper,
            "C" => Choice::Scissors,
            "Z" => Choice::Scissors,
            _ => panic!("invalid letter"),
        }
    }
    fn from_letter_second(c: &str) -> Choice {
        match c {
            "A" => Choice::Rock,
            "X" => Choice::Rock,
            "B" => Choice::Paper,
            _ => panic!("invalid letter"),
        }
    }

    fn get_comparisons(&self) -> WL {
        match self {
            Choice::Rock => WL {w: Choice::Paper, l: Choice::Scissors, d: Choice::Rock},
            Choice::Paper => WL {w: Choice::Scissors, l: Choice::Rock, d: Choice::Paper},
            Choice::Scissors => WL {w: Choice::Rock, l: Choice::Paper, d: Choice::Scissors},
        }
    }

    fn choice_score(&self) -> i32 {
        match self {
            Choice::Rock => 1,
            Choice::Paper => 2,
            Choice::Scissors => 3,
            _ => 0,
        }
    }

    fn play(&self, other: &Choice) -> i32 {
        let wl: WL = other.get_comparisons();
        if *self == wl.w {
            return 6 + self.choice_score();
        }
        if *self == wl.l {
            return 0 + self.choice_score();
        }
        return 3 + self.choice_score();
    }
}

fn main() {
    println!("{:?}", parse_input_second(TEST_INPUT)
        .into_iter()
        .fold(0, |acc,(a,b)| acc + b.play(&a))
    );
}

fn parse_input_second(input: &str) -> Vec<(Choice, Choice)> {
    let each_item: Vec<&str> = input.split("\n").filter(|&i| i != "").collect();

    let choices = each_item.into_iter().map(|row| {
        let i = row.split(" ").collect::<Vec<&str>>();
        let a = Choice::from_letter_first(i[0]);
        let comp = a.get_comparisons();
        let b = match i[1] {
            "X" => comp.l,
            "Y" => comp.d,
            "Z" => comp.w,
            _ => panic!(),
        };
        return (a, b)
    }).collect();
    return choices;
}

fn parse_input_first(input: &str) -> Vec<(Choice, Choice)> {
    let each_item: Vec<&str> = input.split("\n").filter(|&i| i != "").collect();

    let choices = each_item.into_iter().map(|row| {
        let i = row.split(" ").collect::<Vec<&str>>();
        return (Choice::from_letter_first(i[0]), Choice::from_letter_first(i[1]))
    }).collect();
    return choices;
}

const TEST_INPUT: &str = "B Z
A Y
A Y
B X
A Y
B X
A X
B X
B X
B X
C Y
C Y
A X
A Y
A Y
B X
A X
C Y
B Z
A X
B Z
C Y
C Z
A X
C Z
A Y
A X
B Z
B X
A Z
B Z
A X
A Z
B X
B X
C Y
B X
A X
A Y
C Y
B Z
C X
A X
B Z
B Y
B X
A Z
B Z
B Z
A X
B Z
B X
C X
A X
B X
B X
B Z
B X
B Z
A Y
B Z
B X
C Y
A Y
C Y
B Z
A Y
B X
A Y
C Y
A Y
B Z
B Z
C Z
B X
A X
C X
B Y
A Z
C Z
B Z
A Y
A X
B Z
C Z
B X
B Z
A Y
B X
A Y
A Y
A X
C Y
B X
B Z
C Y
B X
B X
C Z
C Y
C Y
A X
B Z
A X
A X
B Y
A Y
B Z
B Z
B Z
A Y
A X
A Y
B X
B Z
A X
B X
B X
C Y
B Z
A X
A Y
B Z
A X
B Z
A Z
A Y
A Z
B Z
A X
A Z
A X
C Y
A Y
A X
B Z
C Z
B Y
B Z
B X
A X
C Y
B Z
B Y
B X
B X
A X
C Y
A Y
B X
A Y
A Y
A Y
B X
A Z
A Y
B X
A X
A Z
B X
B X
C Z
C Y
B X
B X
A Y
C Y
C Y
A X
B Z
B Z
A Y
C Y
B Z
A Y
A Y
A X
B Z
B X
A X
A X
B X
A X
B X
A X
B X
A X
B Y
B Z
A X
B X
B X
B Z
A X
B Z
A Y
B Z
A X
A Z
B X
A X
A Y
C Y
C Y
B Z
A X
C Y
A X
B X
A Y
A X
B X
B X
A Y
A X
A X
A Z
C Y
A X
B X
A X
A X
A X
A Y
A Y
C Z
C Z
A Y
B Z
A X
B X
C Y
B Z
B Z
C Y
C Y
A Y
A Y
A Y
A Y
C Z
A Y
B Z
B Z
C Z
C Y
C Y
C Y
C Y
C X
A X
B Z
B Z
B Z
B Z
C Y
B Z
A X
A X
A X
B Z
A Y
C X
B Z
A X
A Y
B Z
C Z
B X
A X
B Z
A X
A Y
B X
C Y
B X
B Z
A X
B X
B X
A X
B X
B Z
B X
A X
B X
B X
B X
B Z
B X
B Z
C Y
A X
A X
C Y
C Z
A Y
B Z
B Z
A X
B Z
A Y
A X
A Y
A Y
A Y
B Z
C Y
A X
A Y
A Z
B X
A Z
B X
B X
B X
A X
A X
C Y
B X
A X
B Z
A Y
A Y
A X
B Z
A Y
B X
A Y
B Z
C Y
A Y
C X
B X
B Z
C Y
A Y
A X
A X
B Y
C Z
B Z
A Y
A X
A Y
A X
A Y
A Y
A X
A Y
A Z
B X
A X
C Y
A X
C X
A Y
A X
A Y
A X
A X
B X
A X
B Z
A X
C Z
B Z
B Z
A Y
B X
B X
A Y
B X
B X
C Y
A Y
C X
C Y
B Z
A Y
A X
C Z
A X
B X
B X
C X
A Y
B Z
A X
A Z
C Y
B Z
C Y
C X
A Y
B Z
B Z
A Y
B Z
B X
B X
B Z
B Z
B X
C Y
A Y
A X
A Y
B Z
A X
A Y
A Y
A X
B X
A Z
A X
B Z
B Z
A X
C Y
C Y
A Y
A X
A Y
B Z
B Z
B X
B Z
A Y
A X
A Y
A Y
A Z
C Y
C Z
A X
C Y
A Y
A X
A Y
A X
C Z
B Z
B X
B X
B X
A X
A Z
B Z
B X
B X
B X
B X
B X
B X
C Y
B X
B Z
A X
C Z
A X
C X
B Z
A X
A Y
A Z
C Y
B X
C Z
C Y
A Z
B Z
C X
A Y
A Z
B Z
B Z
B Z
A X
A X
B X
A X
B Y
A X
A Y
A Y
B X
A Y
B X
C Z
A Y
C Y
A X
A X
A Y
B X
B Z
A X
B X
B Z
A Z
C Z
B Z
B X
A X
A X
B X
A X
A Y
A Y
B Z
A X
A X
A X
A X
C Y
C Z
A X
A Z
A X
B X
A X
B X
B Z
B X
C Y
B Z
A X
B Z
A Z
A Y
A Y
A X
A X
B Z
A Y
A X
A X
B X
B Z
A Z
A Y
A Z
B X
B Z
A Y
A Z
B X
B Z
A Z
A Y
A Y
A X
A Y
B Z
A Y
A X
A X
A Y
A Y
A X
A Y
A X
C Y
B Z
B X
B X
B X
A X
B Z
B Z
A X
B Z
A Y
C Y
C Y
A Y
B Z
B X
C Y
A X
A Z
B X
B X
C Y
A X
B X
B Z
A Y
A X
B Z
A Y
A Y
C Z
B Z
B Z
A X
C Y
A Y
A Z
A Y
C Z
B Z
A Y
C Z
B X
A X
B X
B X
C Y
A Y
B Y
A Y
B X
A Y
A Y
B X
B Z
B X
A Y
A Y
C Y
C Y
A Y
C Y
A Z
B Z
A X
A Z
A X
C Y
A X
A X
B Z
B Z
C X
C Z
A X
C Y
B Z
B X
A Y
A X
A X
B Z
A X
A Y
A Y
A X
B Z
C Y
A Y
B Z
A Y
B X
A X
A X
A Y
A X
B Z
C Y
A X
A Z
B Z
B Z
A X
C Y
A X
B X
A X
A X
B X
A X
B X
B Z
C X
A X
C Y
C Y
B Z
B X
C Y
C X
A Y
B X
A Y
B Z
C Z
B Z
A Y
A X
B X
A Y
A Y
B Z
B X
A Y
B X
A X
A Y
B Z
B X
A Z
A Y
A X
A Y
B Z
B Z
A X
A X
B Z
A X
B Z
A X
B X
B X
A X
A Y
B X
A Y
A X
B X
B X
B Z
B X
C X
B Z
A Y
B Z
A Y
A X
B Z
B X
B X
C Y
B X
B X
A X
A Y
A X
B X
C Y
C Z
A X
B X
B X
A Y
B Z
B X
A X
B X
C X
A Y
A Y
A Y
A Y
C Y
A Y
A Y
A X
A Y
B X
A Z
A X
B Z
B X
A X
B Z
A X
B Y
A X
A X
A Y
B X
B Z
C X
A X
A X
A Y
B Z
C Z
A X
C X
B Z
B X
B X
B Z
B Z
A X
C Z
A Y
A Y
B Y
B X
B Y
A X
B Z
B Z
A X
B X
A X
B Z
A Y
A Y
B Y
A Y
A Y
A X
B X
A X
B Z
B X
B Z
C Y
A X
B Z
A Z
A X
A X
B X
B X
A Z
B X
A X
A Z
A X
A Z
A Y
A X
A Z
C X
A X
C Y
B X
A X
B X
B X
B X
B X
A X
B Z
B X
A Y
B X
A Y
B X
B X
A Y
B X
A X
A X
A Y
B Z
A Z
B Z
C Y
B Y
A Y
A X
A Y
B Z
A X
B Z
B X
A X
B X
B X
A X
A Y
B Z
C Y
A Y
B Z
C Y
A X
C Y
A Y
A Y
A X
C Y
A Y
B Z
B Z
A Y
B Z
B Z
C Y
A X
A Y
A Y
C Z
A X
A Y
A Y
A X
A Y
B X
A Y
A X
A Y
B X
B X
A Y
A Y
A Y
C Y
A X
A X
B X
A X
B Z
C Y
B Z
C Y
A X
C Z
C Y
B Z
B Z
A Y
B X
B Z
C Y
A X
A X
A X
B Z
A X
A Y
B Z
C X
C Y
A Z
A X
C Y
A X
A X
B X
C Y
A Z
B Z
C Y
B X
A X
A X
C Y
A X
A X
B Z
B X
A X
A Y
B X
A X
A X
B X
C Y
A Y
C Z
A Y
B Z
A X
B X
B X
A X
B X
B Y
A X
C Y
A Y
A Y
B X
A Y
B X
B Z
A Y
C Y
C Y
A Z
B Z
C Z
B Z
A Z
A Y
B Z
A X
B Z
A Z
A Z
B Z
B X
A X
A X
A X
B X
A X
A Y
C Y
B Z
B X
A X
B Z
B X
B Z
A X
B X
B X
B X
A X
B Z
A X
B X
A X
C Y
A X
A Y
A Z
C Y
A Y
A X
C Y
B Z
A X
B Z
A X
B Z
B Z
B Z
C Z
A Z
B X
A X
A Y
A Y
A Y
B X
C X
A Y
A X
A X
C Y
A Y
A Y
B X
C Y
A Z
A Z
A Y
C Y
B Z
A Z
C Y
A X
B X
B X
B X
A X
C Z
C Y
B Z
B Z
A X
A Y
A Y
A Y
C X
A Z
A X
B X
B Z
B Z
A Z
A X
B Z
A Y
B Z
C X
A X
B Z
A Y
A Y
A X
B Z
B X
A Y
A Y
A Y
A Y
A Z
A X
C Y
A Y
A Y
C Y
C Y
B X
C Y
A X
A Z
B Z
C Y
A Z
A X
A Z
A Y
C Y
B Z
A Y
B X
B X
A X
B X
A Z
B Z
A X
A X
C Y
A Y
C Y
C Y
B X
A X
C X
B X
B Z
A Y
B Z
A X
A Y
B Z
B Z
A Y
A Y
A X
A Y
B Z
A Y
B Z
C Y
C Y
B X
A Z
A Y
C Y
B X
B Z
B X
C Y
B Z
A Y
A Y
B Z
A X
A Z
B X
A X
C Z
B X
B X
B X
C X
C Y
B X
A Y
B Z
B X
B Z
C Y
A X
A Y
A X
B X
B Z
B Z
A X
B X
C Y
C X
B Z
A X
A Y
B Z
B Y
C Y
C Y
A Y
B Z
B X
A Y
B Z
A X
A X
A Y
B Z
A Y
A X
B Z
A X
C Y
A Y
C Z
B Z
C Y
B Z
A Y
C Y
A X
A Y
B X
B Z
B X
B Z
A Y
B X
A Y
B Z
A Y
C Y
A X
A X
B Y
B X
A Y
C X
B Z
B Z
A Y
C Z
B X
A X
A Y
B Z
C Y
C Y
A Y
A Y
B X
C Y
A Y
B X
A X
B X
B Z
A X
A Y
B X
B X
C Y
B Z
A X
A X
B X
C Y
B X
A X
A X
B X
C Z
C Y
B X
B Z
A X
A Y
C Y
A Y
A Y
A Y
B X
C Y
B X
A X
A Y
A X
B Z
A Z
B X
A Y
B X
A Y
B X
B Z
A X
A X
B Z
A X
A Y
B X
B Z
B Z
A X
A Y
A Y
A X
A X
B X
B Z
B Y
A X
C Y
A Y
C Y
A Y
C X
B X
B X
A X
B Z
A X
C Y
B X
C Y
A Z
A X
B Y
A X
B X
B Z
A Z
C Y
A Y
A Z
A Y
A X
A Y
A X
A X
A X
B Z
B Z
C X
A X
C Z
B X
C X
B Z
B Z
A Z
B X
A Y
B Z
C Y
A X
C Y
C Y
B Z
A Y
A Z
A X
B Z
B X
C Z
C Y
A Y
C Z
B X
B Z
C Y
A X
B X
C Z
B Z
C Y
B X
A Y
B Z
C X
A Z
A X
A Y
B Z
B X
B X
B X
B Z
A Z
A X
B Z
B X
A X
A Y
B X
B X
A X
A X
B X
B X
C Y
A Y
C Z
A Y
A Y
A X
B X
B Z
A X
B X
A X
B X
A Y
C Y
A Y
A X
A Y
A Y
C Y
B Z
B Z
A X
A Y
C Y
C Y
A Y
A X
A X
C Y
B X
A Y
B Z
C Y
B Z
A X
A Y
A X
B Z
B X
C Y
A Z
C X
A Y
A X
C X
B X
A Y
A X
B Z
B Z
C Y
A X
A Y
A Y
B X
A Y
A X
C Y
B X
C Y
A Y
A Y
A Y
A X
A X
C Z
B X
C Y
B Z
A X
A Y
B Z
C X
B Z
A X
C Y
C Y
B Z
B Z
A X
C Y
C Y
A Y
C Y
B X
B Z
A Z
C Y
A Z
B Z
A X
B Z
A X
B Z
A X
A Y
A X
B Z
A X
A X
A X
B X
C Y
B Z
B X
A Y
A Y
C Y
B X
A Z
C Z
C Y
A X
A Y
A X
B Z
A X
B X
C Z
A Y
C Y
A Y
A Y
A Z
C Y
A X
B Z
C X
B Z
A X
B Z
B Y
A X
C Y
A X
A Y
B X
A X
B X
A Z
A X
A Y
B X
A Y
B X
C Y
B X
A X
A Y
A X
B X
A X
A X
B X
A Y
B Y
A X
A Y
A X
B X
C Y
A X
A Z
C Y
A Y
C Z
B X
B Z
A Y
C X
A Z
A X
A X
B Z
C X
A Y
A X
A Y
A X
A Y
B Z
B X
A Z
B Z
A X
A Y
B X
B Z
A Y
B Z
C X
B Z
A X
B X
B X
C Y
B X
B Z
A X
A Y
B X
A X
B Z
A X
B Z
B Z
C Y
C Y
B Z
B X
B Z
A X
A Y
A X
B X
B Z
A Y
B Z
B X
B X
B X
B Z
B Z
A X
B X
A Y
B X
C Y
B Z
B Z
B X
C Z
A Y
A Y
B Z
B Z
A X
C Z
A Y
A X
A Y
B X
C Y
A Y
A X
B X
B Z
A Z
A Y
A Z
A X
B X
B X
A Z
A Y
A X
C Y
A Y
A X
C Z
A X
B X
A Y
B X
A Y
A X
A Y
B Z
B Z
C Z
A Y
A X
A Y
A Z
A Y
B Z
B X
A X
A X
B Z
C X
A Y
A X
A Z
C X
C Y
B Z
A Y
B X
B Z
C X
B Z
A Y
B Z
B X
A Y
B Z
B X
A X
B Z
C Y
A Y
B Z
A X
A X
B Z
A X
C Y
A X
B X
B Z
B Z
C Y
A X
B Z
C Z
B Z
A Y
B Z
B Z
A X
B Z
A X
B X
A X
A X
B Z
B X
A Z
B Z
B X
B Z
B Z
B Z
B Z
A Y
B X
A Y
B Z
B X
A X
A X
B X
B Z
C Y
B Z
B X
B Z
B Z
C Y
A X
A Y
B X
A Z
B Z
B Z
A X
A Y
B Z
A Z
A Y
A Y
A Y
A Y
C Y
B Z
A X
A X
B X
A Y
A Y
A Y
A Y
B X
B Z
C Y
B X
B X
A Y
B X
B Z
A X
C X
B X
B X
B X
C X
C Y
A Y
A X
B X
A Z
C X
B Z
C Y
B Z
A Y
A X
B X
B X
B X
A Y
B Z
A Z
C Y
A Y
A X
B Z
C Y
A Y
A X
B Z
C Z
C Y
A Y
A X
A Y
C Z
A Y
B Z
B X
B X
C Z
C Y
C Y
C Z
A Y
A Z
C Z
A Y
A X
B Z
A Y
A X
C X
A Y
C Y
C Y
A X
B Z
B X
A Z
B X
A X
C Y
A Z
B Z
A X
B Z
B X
A Y
C Z
B X
B Z
C Y
A X
B Z
B X
A Y
B X
C X
A X
A X
A X
A X
C Y
C Y
A X
B Z
A X
A Y
A Y
A X
A X
B Z
B Z
B X
A Y
A Z
C Y
A X
A Y
B Z
B X
B X
A X
C X
B Z
C Y
C Z
B Z
A X
B Z
A Y
A Y
A Y
C Z
C Y
A Y
C Y
A Y
A X
B Z
B Z
B X
C Z
A Y
C X
B Z
A Y
B Z
B X
B Z
A X
A X
B Z
C Y
A Z
A Y
B Z
A Z
C Y
B Z
B X
A X
B Z
B X
A X
B Z
A X
A X
B Z
C Y
B Z
A Y
A X
A X
C X
A Y
B Z
C Y
A Z
C Y
B X
A X
B X
C X
C Y
B Z
B Z
A Y
A Z
B X
B Z
A Y
B X
A Z
C Y
C Z
C Y
A Y
C X
C X
B X
A Y
A X
B X
B X
C Z
C X
A X
A Y
B X
B X
C X
B Z
A Y
B Z
A Y
B Z
C Y
A X
A X
B X
B Z
A X
C Y
B X
A X
A X
A Y
A Z
B X
A X
A Y
A Z
B X
B Z
A Y
A X
B X
A Y
C Y
B Y
B X
A Y
C X
A Z
C Y
A X
B Y
C Y
B Z
B X
C Y
C Y
A Y
A X
C X
A Z
A X
B Z
B X
B X
A X
B X
A Z
B X
B Z
B Z
C Z
B Z
B X
C Y
C Y
A Z
C X
A X
B Z
A X
C Y
A X
A Z
B Z
B Z
A X
B Z
B Z
A X
C Z
B Z
B X
C X
A Z
B X
A Y
B Z
C Y
B Z
B X
A Y
B Z
A X
B Z
A Y
A Z
B Z
C Y
C Y
A Z
B Z
B X
B X
C Z
B Z
B Z
A X
A X
A X
A X
A X
C Y
A X
B Z
A X
B Z
C Y
C X
A Y
B X
A X
B Z
A Y
B Z
C X
A Y
B X
A X
A Y
B Z
A Y
A X
B X
B Y
B X
B Z
B X
A X
B X
B X
B X
A Z
A X
A X
B X
C Y
A X
A X
B X
B X
B X
B X
A Y
A X
B Z
A X
A Y
C Y
B Z
A Y
A X
C Z
A X
B Z
A X
B Z
B Z
B Z
C Y
B X
C Y
A Z
B Z
A X
A Y
A Y
A Y
B X
B Z
B Z
A Y
B Z
B Z
B X
A X
B Z
A Y
A Y
A X
B Z
A X
A X
B Z
C Y
B X
A X
A X
A Z
C Y
A X
A X
A X
A X
A X
C Y
A X
A X
B X
B Z
C Z
B X
A Y
B Z
A X
A Y
B Z
B Z
B Z
B Z
A X
A Y
A Y
B X
A Y
A Z
A Y
B Y
A X
B Z
A X
A Y
C Y
B Z
C Y
A X
B Z
A X
A Z
B Z
A X
B X
C Y
A Y
A X
A Z
C Y
A Z
A Y
A Y
A X
A X
A Z
A Y
B X
B Z
B X
B X
C Y
A Y
A X
B X
A X
B Z
A X
A X
B Z
C Y
B X
C Y
A X
B X
C Z
A Y
B X
A Y
A Y
B X
C Y
B Z
A Y
B Z
A Y
A X
A X
A Y
B Z
B Z
A Y
A X
A X
B X
B Z
A Y
A X
C Y
B X
C Y
B Z
B Z
B X
A Y
B X
B X
A X
C Y
C Y
B Z
B X
A Y
C Z
C Z
C Y
A Y
B X
B Z
B X
A X
B Z
A Y
A X
C Y
B X
A Y
B X
A Z
A X
A Y
C Y
A Y
A X
C Y
C Z
B X
A Y
C Y
B Z
B X
A X
B X
B X
C Y
B Z
B Z
B Z
B X
B Z
A Y
B Y
B Z
A Z
A X
B Y
A X
B Z
A Y
B X
A X
B Z
C Z
B Z
B Z
A Y
B X
A X
A X
B X
A Y
A Y
A X
C Z
C X
A Y
C X
A Y
A Z
C Y
A X
B X
A X
B Z
A X
C Y
A Y
B X
C Y
A Y
A Z
A Y
A Y
B Z
C Z
C Y
A Y
A Y
B X
C X
A Z
B Z
C Y
A X
A Y
B X
A Y
C Y
C Z
A Y
B Z
A X
C Y
B X
B Z
A X
C Z
B Z
C Y
C Z
B Z
A X
A Y
A X
B X
B Z
B X
A X
B Z
C Y
A Z
A Z
C Y
A Y
C X
B X
A X
A X
B X
B Z
B X
B Z
B Z
A X
B X
A X
A Y
A X
C Z
B Z
A X
C Z
C Z
C X
A X
B X
A X
A Z
A X
C Z
A X
A X
B Z
C Z
C Y
B Z
B X
A X
A X
A Y
B Z
A Y
B X
B Z
C X
B Z
B X
A Y
B Z
A Z
A Y
A Y
B X
C X
A Y
A Y
C Y
C Y
B Z
B X
C Y
C Y
A Y
A X
A Y
A Y
B Z
B X
A X
B X
B Z
B Z
A Z
A Z
A Z
A X
B X
B Z
A X
B Z
A X
B Z
B X
C Z
B Y
A Y
A Y
A X
A X
B Z
B Z
B X
A Y
C Y
B X
A X
B X
C Y
A X
A X
B X
C Y
C Y
C X
B X
C Y
A Z
B Z
B Z
B Z
B X
B Z
A X
B X
A X
A Y
C Z
B X";


